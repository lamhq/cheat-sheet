import { PackageManagerTabs } from '@theme'

# Installation

## Install packages

Install the core packages:

<PackageManagerTabs command="install --save-dev eslint @eslint/js globals" />

- `eslint`: Core linting engine that analyzes your JavaScript code for problems.
- `@eslint/js`: Official package that provides ESLintâ€™s built-in rule presets as reusable flat config objects.
- `globals`: A utility that defines sets of global variables for environments like `browser`, `node`, or `jest`.

For configuration of specific languages and tools (React, Jest, Storybook ...), refer to the guides under **Installation** category.


## Enable ES modules

Set `"type":"module"` in `package.json` to enable ECMAScript module (ESM) support in your ESLint config file:

```json title="package.json"
{
  "type": "module"
}
```

Otherwise you have to name your config file with `.mjs` extension.


## Set up Visual Studio Code

1. Install [ESLint extension](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint).
2. Update your VS Code setting to auto fix ESLint errors on save:

```json title=".vscode/settings.json"
{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": "always"
  }
}
```


## Lint staged files on commit

Install `lint-staged`:

<PackageManagerTabs command="install --save-dev lint-staged" />

Add `lint-staged` configuration to `package.json`:

```json
{
  "lint-staged": {
    "*.ts?(x)": "eslint --fix"
  }
}
```

Install Husky:
```sh
npx husky init
```

Add a Git Hook to run `lint-staged` on commit:

```sh
echo "npx lint-staged" > .husky/pre-commit
```


## Running ESLint

To run ESLint for a file:

```sh
npx eslint file.js 
```

Run ESLint for multiple targets:

```sh
npx eslint project-dir/ file.js 
```

Run ESLint for current directory (if using a flat configuration file):

```sh
npx eslint 
```

You can add a `lint` script to `package.json`:
```json title="package.json"
{
  "scripts": {
    "lint": "eslint",
  }
}
```
