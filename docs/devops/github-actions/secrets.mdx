# Secrets

## Levels

Secrets allow you to store sensitive information in different levels:
- [Organization](https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/use-secrets#creating-secrets-for-an-organization): share secrets between multiple repositories, you can use a [policy](https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/use-secrets#reviewing-access-to-organization-level-secrets) to limit access by repository
- [Repository](https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/use-secrets#creating-secrets-for-a-repository): Secrets used only within a single repo. 
- [Environments](https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/use-secrets#creating-secrets-for-an-environment): Secrets tied to deployment stages (e.g., `DEV`, `STAGING`, `PROD`). You can enable reviewers to approve a job to access a secret

To create secrets or variables for a personal account repository, you must be the repository owner. For an organization repository, you must have `admin` access. If through the REST API, you must have collaborator access.


## Redacting

GitHub Actions automatically redacts GitHub secrets and information that is recognized as sensitive in the workflow logs.


## GITHUB_TOKEN

`GITHUB_TOKEN` is a secret that is automatically created at the start of each workflow job.

The token can be used to authenticate on behalf of the GitHub App installed on your repository.

It when a job finishes or after a maximum of 24 hours.

The token is also available in the `github.token` context.

`GITHUB_TOKEN` with workflow triggers:
- Events triggered by the job that use `GITHUB_TOKEN` will not create a new workflow run (except for `workflow_dispatch` and `repository_dispatch`).
- Commits pushed by a GitHub Actions workflow that uses the `GITHUB_TOKEN` do not trigger a GitHub Pages build.


## Using secrets in a workflow

You can use the `secrets` context to access secrets you've created in your repository.

```yml
steps:
  - name: Hello world action
    with: # Set the secret as an input
      super_secret: ${{ secrets.SuperSecret }}
    env: # Or as an environment variable
      super_secret: ${{ secrets.SuperSecret }}
```

Secrets cannot be directly referenced in `if` conditionals. Instead, consider setting secrets as job-level environment variables, then referencing the environment variables to conditionally run steps in the job. 

Avoid passing secrets in command line, if you must do it, enclose them within the proper quoting rules:

```yml
steps:
  - shell: bash
    env:
      SUPER_SECRET: ${{ secrets.SuperSecret }}
    run: |
      example-command "$SUPER_SECRET"
```
