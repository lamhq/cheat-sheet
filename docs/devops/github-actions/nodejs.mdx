# Node.js

Create a continuous integration (CI) workflow to build and test Node.js project.

## Using a Node.js workflow template

When creating new workflow in GitHub, you can choose the Node.js workflow template, select **Continuous integration**.


## Set up Node.js

The easiest way to specify a Node.js version is by using the [`setup-node`](https://github.com/actions/setup-node/) action.

Supported version syntax: `18.x`, `20.x`, `20.10`, `20.10.0`

Supported package managers are `npm`, `yarn`, `pnpm`. 

The action has a built-in functionality for caching and restoring dependencies. The action does not cache `node_modules` but caches packages globally so they can be reused between different Node.js versions.

Use a matrix strategy and cache pnpm dependencies:
```yml
strategy:
  matrix:
    node-version: ['18.x', '20.x']

steps:
- name: Checkout code
  uses: actions/checkout@v4

- name: Set up pnpm
  uses: pnpm/action-setup@v2
  with:
    version: 10.12.3

- name: Set up Node.js ${{ matrix.node-version }}
  uses: actions/setup-node@v4
  with:
    node-version: ${{ matrix.node-version }}
    cache: 'pnpm'
    # cache-dependency-path: 'pnpm-lock.yaml'
```


## Installing dependencies

Install dependencies with exact version specified in `pnpm-lock.yaml`:
```yml
- name: Install dependencies
  run: pnpm install  # --frozen-lockfile option will be automatically added if you run it on CI
```


## Building and testing your code

```yml
- run: npm run build --if-present
- run: npm test
```
