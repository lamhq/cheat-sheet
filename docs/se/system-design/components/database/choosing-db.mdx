# Choosing Database

## Best Practices

1. **Use the Right Tool for the Right Job**. Don't default to one database type for everything, leverage different database technologies based on specific application needs
   - For example, A product catalog might benefit from a NoSQL document store, while a payment service might require a relational database for transactional integrity.
2. **Focus on the Data Type & Access Patterns**. Match the database to how data is structured and used 
   - Is the data **highly structured** with complex relationships? → Use **Relational SQL**.
   - Is it **flexible JSON documents**? → Use **NoSQL Document DB**.
   - Is it **simple key-value lookup** (e.g., caching)? → Use **Key-Value Store**.
   - Is it **telemetry or log data**? → Use **Time Series DB** or **Elasticsearch**.
3. **Understand the Trade-offs**. Some systems may prioritize **Availability** over **Consistency**, especially in user-facing apps where uptime is critical.
4. **Consider Development Team Competence**. Even the best database is useless if your team can’t manage it effectively.


## SQL or NoSQL?

Reference: [SQL vs. NoSQL Database: When to Use, How to Choose](https://www.ml4devs.com/articles/datastore-choices-sql-vs-nosql-database/)

![](https://www.ml4devs.com/images/illustrations/sql-vs-nosql-comparision.webp)


### Data Model

RDBMS databases are used for normalized structured (tabular). Data strictly adhering to a relational schema. Not all data fits into strict RDBMS schema.

NoSQL datastores excel at handling unstructured or semi-structured data, suitable for applications requiring high scalability, flexible schemas, and rapid development, such as:
- content management systems
- real-time analytics
- Internet of Things (IoT) data storage
- social networks
- applications with large volumes of diverse data formats


### Transaction Guarantees

All RDBMS databases support ACID transactions

Most NoSQL datastores offer BASE transactions. Only a few NoSQL datastores are ACID-complaint.


### Use cases

For analytics, a tabular columnar database is highly effective for querying and processing large datasets efficiently. 


### Scaling

RDBMS scale vertically. You need to upgrade hardware (more powerful CPU, higher storage capacity) to handle the increasing load. RDBMS did not scale horizontally for Big Data.

NoSQL datastores offer horizontal scale at various CAP Theorem tradeoffs. NoSQL is better at handling partitioned data, so you can scale by adding more machines.


### Performance

RDBMS are designed for fast transactions updating multiple rows across tables with complex integrity constraints. It will optimize your query (SQL) and find the best execution plan.

NoSQL datastores are designed for efficiently handling a lot more data than RDBMS. NoSQL offers performance at a higher scale (typically by giving up strong consistency). 


## Database Decision Tree

- Structured Data
  - OLTP workload: ACID, transactions
    - **Relational Databases**
  - OLAP workload: Analytics
    - **Columnar Databases**
- Semi structured Data:
  - Dictionary:
    - **Key-value Databases**
      - For Caching:
        - **In-memory Databases**
  - 2D Key-Value:
    - **Wide Column Databases**
      - Time Series:
        - **Time Series Database**
      - Audit Trail:
        - **Immutable Ledger Database**
      - Location & Geo-entities:
        - **Geospatial Database**
  - Entity-Relationships:
    - **Graph Databases**
  - Nested Objects: XML, JSON
    - **Document Database**
      - Full Text Search:
        - **Text Search Databases**
- Unstructured Data: images, videos, recordings, documents
  - **Blob storage**

![](https://www.ml4devs.com/images/illustrations/sql-vs-nosql-cheatsheet.webp)
