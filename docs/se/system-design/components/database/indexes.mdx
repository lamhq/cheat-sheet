# Indexes

## Overview

A database index is a data structure that improves the speed of data retrieval operations on a database table.

> [!TIP]
> Think of it like an index in a book, which allows you to quickly find the page where a specific topic is discussed without having to read through the entire book.

There are various types of indexes, such as single-column indexes, multi-column indexes, unique indexes, and full-text indexes.

While indexes improve read performance, they can add overhead to write operations and require additional storage space.

Indexes are particularly useful for columns that are frequently searched or used in join operations.


## Data Structure of Indexes

A database index is typically implemented using one of the following data structures:

### B-tree (Balanced Tree)

The most common data structure for indexes.

B-trees maintain sorted data and allow searches, sequential access, insertions, and deletions in logarithmic time.

Variants like B+ trees are also widely used, especially in databases like MySQL and PostgreSQL.

![](./indexes/bptree.drawio.svg)

A B+ tree has all the values in the leaves and the nodes hold the ranges. Leaf nodes are linked, allowing for efficient sequential access.


### Hash Table

Hash indexes use a hash function to map keys to specific locations in the index. 

They are very efficient for equality searches but not suitable for range queries. 


### Bitmap Index

This type of index uses bitmaps (arrays of bits) and is efficient for columns with a limited number of distinct values.

Bitmap indexes are often used in data warehousing applications.


### GiST (Generalized Search Tree)

This is a flexible data structure that can be used to build various types of indexes, such as R-trees for spatial data or full-text search indexes. 

PostgreSQL supports GiST indexes.
