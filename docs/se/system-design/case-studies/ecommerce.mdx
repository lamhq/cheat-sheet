# E-Commerce Platform

## Overview

Architect a highly scalable eCommerce marketplace platform that targets millions of users located in different countries around the globe.


## Gathering Requirements

There're two actors in the system: Merchants and Buyers.

Questions for Merchants:
1. **Product Type**: Are we dealing with digital products like ebooks or music, or with physical products that have fixed inventory?
2. **Data Requirements**: What information do merchants need to provide when onboarding a new product?
3. **Analytics**: What kind of data should we provide to merchants about their product sales?
4. **Product Management Operations**: What operations should merchants be able to perform on existing products (e.g., update, delete, etc.)?

Questions for Buyers:
1. **Purchase**: Can anyone browse and purchase products, or do users need to register?
2. **Review**: Should we design a system for product reviews and ratings?
3. **Search**: What capabilities should buyers have for searching products?
4. **Checkout**: What parts of the checkout process need to be designed?
5. **Platform**: Should the platform only support a web interface, or a mobile experience as well?


## Functional Requirements

### General

We're selling physical products with inventory.

Each product contains:
- Title
- Description
- Categories
- Images
- Optional attributes

### Merchants

Product Management System:
- A web-based UI that allows **Signup and Login**
- Create new products
- Update product properties
- Update product inventory
- View product data

**Product analytics**:
- View the current number of visitors in merchant dashboard
- View historical / projected trends about products performance

### Buyers

Storefront:

- Support web UI and mobile app
- Browse products
- Search products based on title/categories/description

Checkout:
- View breakdown of the bill, taxes, shipping, etc.
- Provide shipping + payment info
- Receive email updates/push notifications about their orders

*Out of scope*:
- User registration
- Product reviews
- Shopping cart
- Delivery
- Online Payment


## Quality Attributes Requirements

### Merchant

Scalability: not very high
- Hundreds of merchants
- Low traffic
- Thousands of products

Performance:
- Response time < 1 second at 50th percentile

Consistency vs Availability:
- Prefer Consistency & Partition Tolerance, merchants need the most correct data about their products

Availability:
- Uptime: 99.5%


### Buyer

Scalability: very high
- 10 - 100 Million daily users
- Multiple countries
- High traffic at peak

Performance:
- Product retrieval (storefront): Response time < 200ms at 50th percentile, 500ms 99p
- Checkout: Response time < 1 second 99p

Consistency vs Availability:
- Storefront: Prefer AP, show data that may be stale
- Checkout (inventory): Prefer CP, ensure consistent product inventory

Availability:
- Internal SLA: Uptime of 99.99%